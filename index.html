<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BazaarJo - المنصة المتكاملة</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f5f5f5; }
    header { background:#d81b60; color:#fff; padding:20px; text-align:center; font-size:24px; }
    nav { background:#fff; display:flex; flex-wrap:wrap; gap:10px; padding:10px; }
    .tab-btn { background:#eee; border:none; padding:10px 15px; cursor:pointer; border-radius:5px; }
    .tab-btn.active { background:#d81b60; color:#fff; }
    #filters-container { background:#fff; padding:10px 20px; margin:10px 0; display:flex; flex-wrap:wrap; gap:15px; border-radius:5px; }
    #filters-container > div { min-width:150px; flex:1 1 150px; }
    select { width:100%; padding:7px; border-radius:4px; border:1px solid #ccc; }
    button.apply-btn { background:#d81b60; color:#fff; border:none; padding:10px 20px; cursor:pointer; border-radius:5px; }
  </style>
</head>
<body>

<header id="header">BazaarJo - المنصة المتكاملة</header>

<nav aria-label="أقسام المنصة">
  <button class="tab-btn active" data-target="real-estate" aria-selected="true">عقارات</button>
  <button class="tab-btn" data-target="cars" aria-selected="false">سيارات</button>
  <button class="tab-btn" data-target="services" aria-selected="false">خدمات</button>
  <button class="tab-btn" data-target="jobs" aria-selected="false">وظائف</button>
</nav>

<div id="filters-container" aria-live="polite" aria-atomic="true">
  <!-- هنا ستظهر الفلاتر -->
</div>

<script>
  // ترجمة مبسطة (فقط بعض الفلاتر لتجربة)
  const translations = {
    ar: {
      header: "BazaarJo - المنصة المتكاملة",
      filters: {
        "real-estate": [
          { id: "type-realestate", label: "نوع العقار", options: ["", "أراضي سكنية", "شقق", "فلل"] },
          { id: "price-realestate", label: "السعر", options: ["", "أقل من 50 ألف", "من 50 إلى 100 ألف", "أكثر من 100 ألف"] }
        ],
        "services": [
          { id: "service-type", label: "نوع الخدمة", options: ["", "كهربائي", "سباك", "نجار"] }
        ]
      },
      applyBtn: "تطبيق الفلاتر"
    }
  };

  let currentLang = 'ar';
  let currentTab = 'real-estate';

  const headerEl = document.getElementById('header');
  const tabs = document.querySelectorAll('.tab-btn');
  const filtersContainer = document.getElementById('filters-container');

  // وظيفة إنشاء select مع label
  function createSelect({id, label, options}) {
    const container = document.createElement('div');
    const select = document.createElement('select');
    select.id = id;
    select.name = id;
    select.setAttribute('aria-label', label);
    options.forEach(opt => {
      const option = document.createElement('option');
      option.value = opt;
      option.textContent = opt === "" ? label : opt;
      select.appendChild(option);
    });
    container.appendChild(select);
    return container;
  }

  // رسم الفلاتر
  function renderFilters(tab) {
    currentTab = tab;
    filtersContainer.innerHTML = ''; // نظف المحتوى القديم
    const t = translations[currentLang];
    if (!t.filters[tab]) {
      filtersContainer.textContent = 'لا توجد فلاتر لهذا القسم حالياً.';
      return;
    }
    t.filters[tab].forEach(filter => {
      filtersContainer.appendChild(createSelect(filter));
    });
    const applyBtn = document.createElement('button');
    applyBtn.textContent = t.applyBtn;
    applyBtn.className = 'apply-btn';
    filtersContainer.appendChild(applyBtn);

    applyBtn.onclick = () => {
      alert('تم تطبيق الفلاتر!');
    };
  }

  // التبديل بين التبويبات
  tabs.forEach(tabBtn => {
    tabBtn.addEventListener('click', () => {
      tabs.forEach(b => {
        b.classList.remove('active');
        b.setAttribute('aria-selected', 'false');
      });
      tabBtn.classList.add('active');
      tabBtn.setAttribute('aria-selected', 'true');
      renderFilters(tabBtn.dataset.target);
    });
  });

  // تهيئة الصفحة
  headerEl.textContent = translations[currentLang].header;
  renderFilters(currentTab);
</script>

</body>
</html>
