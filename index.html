<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>BazaarJo - تصفح الفئات مع فلتر الموقع</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f5f5;
    }
    header {
      background: linear-gradient(90deg, #d81b60, #8e24aa);
      color: white;
      padding: 20px;
      text-align: center;
      font-size: 30px;
      font-weight: bold;
    }
    .container {
      max-width: 1200px;
      margin: 20px auto;
      background: #fff;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    label {
      font-weight: bold;
      margin-right: 10px;
      font-size: 16px;
      display: inline-block;
      min-width: 90px;
    }
    select, button {
      padding: 8px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 5px;
      min-width: 180px;
      margin-bottom: 15px;
      cursor: pointer;
    }
    button {
      background: #d81b60;
      color: white;
      cursor: pointer;
      min-width: 120px;
    }
    .filters {
      display: none;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
      align-items: center;
    }
    .filters.active {
      display: flex;
    }
    #map {
      height: 400px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      margin-bottom: 20px;
    }
  </style>

  <!-- تضمين مكتبة خرائط Google -->
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&language=ar&region=JO"></script>
</head>
<body>

  <header>BazaarJo - تصفح الفئات مع فلتر الموقع</header>

  <div class="container">
    <!-- اختيار الفئة -->
    <label for="category-select">الفئة:</label>
    <select id="category-select" onchange="showFilters()">
      <option value="">اختر الفئة</option>
      <option value="real-estate">عقارات</option>
      <option value="vehicles">مركبات</option>
      <option value="services">خدمات</option>
      <option value="home-items">متعلقات منزلية</option>
      <option value="personal-items">مستلزمات شخصية</option>
      <option value="fashion">ملابس وأحذية</option>
      <option value="hobbies">هوايات وترفيه</option>
    </select>

    <!-- فلتر الموقع -->
    <label for="location-select">الموقع:</label>
    <select id="location-select">
      <option value="">اختر المنطقة</option>
      <option value="amman">عمان</option>
      <option value="zarqa">الزرقاء</option>
      <option value="irbid">إربد</option>
      <option value="aqaba">العقبة</option>
      <option value="madaba">مادبا</option>
      <!-- المزيد حسب الحاجة -->
    </select>

    <!-- خريطة Google -->
    <div id="map"></div>

    <!-- فلاتر لكل فئة -->

    <!-- عقارات -->
    <div id="real-estate" class="filters">
      <label>نوع العقار:</label>
      <select>
        <option value="">اختر نوع العقار</option>
        <option>شقة</option>
        <option>فيلا</option>
        <option>شاليه</option>
        <option>أرض</option>
        <option>محل تجاري</option>
      </select>

      <label>السعر:</label>
      <select>
        <option value="">اختر السعر</option>
        <option>أقل من 50,000</option>
        <option>50,000 - 100,000</option>
        <option>100,000 - 200,000</option>
        <option>أكثر من 200,000</option>
      </select>

      <label>المساحة (م²):</label>
      <select>
        <option value="">اختر المساحة</option>
        <option>أقل من 50</option>
        <option>50 - 100</option>
        <option>100 - 200</option>
        <option>أكثر من 200</option>
      </select>

      <label>عدد الغرف:</label>
      <select>
        <option value="">اختر عدد الغرف</option>
        <option>1</option>
        <option>2</option>
        <option>3</option>
        <option>4+</option>
      </select>
    </div>

    <!-- مركبات -->
    <div id="vehicles" class="filters">
      <label for="vehicle-type">نوع المركبة:</label>
      <select id="vehicle-type">
        <option value="">اختر نوع المركبة</option>
        <option value="سيارة">سيارة</option>
        <option value="سيدان">سيدان</option>
        <option value="هاتشباك">هاتشباك</option>
        <option value="كروس أوفر">كروس أوفر</option>
        <option value="SUV">دفع رباعي (SUV)</option>
        <option value="بيك أب">بيك أب</option>
        <option value="كوبيه">كوبيه</option>
        <option value="كونفيرتيبل">كونفيرتيبل</option>
        <option value="فان">فان</option>
        <option value="دراجة نارية">دراجة نارية</option>
        <option value="شاحنة">شاحنة</option>
        <option value="باص">باص</option>
      </select>

      <label for="brand">الماركة:</label>
      <select id="brand" onchange="populateModels()">
        <option value="">اختر الماركة</option>
        <option value="تويوتا">تويوتا</option>
        <option value="هيونداي">هيونداي</option>
        <option value="كيا">كيا</option>
        <option value="نيسان">نيسان</option>
        <option value="فورد">فورد</option>
        <option value="مرسيدس">مرسيدس</option>
        <option value="بي إم دبليو">بي إم دبليو</option>
        <option value="أودي">أودي</option>
        <option value="شيفروليه">شيفروليه</option>
        <option value="لكزس">لكزس</option>
        <option value="مازدا">مازدا</option>
        <option value="ميتسوبيشي">ميتسوبيشي</option>
        <option value="سوبارو">سوبارو</option>
        <option value="فولكسفاجن">فولكسفاجن</option>
        <option value="رينو">رينو</option>
        <option value="جيب">جيب</option>
        <option value="دايهاتسو">دايهاتسو</option>
        <option value="سيتروين">سيتروين</option>
        <option value="إيسوزو">إيسوزو</option>
        <option value="سكودا">سكودا</option>
        <option value="other">غير ذلك</option>
      </select>

      <label for="model">الموديل / الفئة:</label>
      <select id="model" disabled>
        <option value="">اختر الموديل</option>
      </select>

      <label>سنة الصنع:</label>
      <select>
        <option value="">اختر السنة</option>
        <option>2025</option>
        <option>2024</option>
        <option>2023</option>
        <option>2022</option>
        <option>2021</option>
        <option>2020</option>
        <option>أقدم</option>
      </select>

      <label>السعر:</label>
      <select>
        <option value="">اختر السعر</option>
        <option>أقل من 10,000</option>
        <option>10,000 - 30,000</option>
        <option>30,000 - 50,000</option>
        <option>أكثر من 50,000</option>
      </select>
    </div>

    <!-- خدمات -->
    <div id="services" class="filters">
      <label for="main-service">نوع الخدمة:</label>
      <select id="main-service" onchange="showSubServices()">
        <option value="">اختر نوع الخدمة</option>
        <option value="home">خدمات منزلية</option>
        <option value="personal">خدمات شخصية</option>
        <option value="tech">خدمات تقنية</option>
        <option value="consulting">خدمات استشارية</option>
        <option value="delivery">خدمات توصيل ونقل</option>
        <option value="entertainment">خدمات ترفيه وتنظيم مناسبات</option>
        <option value="education">خدمات تعليمية وتدريبية</option>
      </select>

      <label for="sub-service" id="sub-service-label" style="display:none;">الخدمة الفرعية:</label>
      <select id="sub-service" style="display:none;">
        <option value="">اختر الخدمة الفرعية</option>
      </select>
    </div>

    <!-- متعلقات منزلية -->
    <div id="home-items" class="filters">
      <label>نوع المتعلق:</label>
      <select>
        <option value="">اختر نوع المتعلق</option>
        <option value="أثاث">أثاث</option>
        <option value="ديكور">ديكور</option>
        <option value="أدوات مطبخ">أدوات مطبخ</option>
        <option value="مستلزمات تنظيف">مستلزمات تنظيف</option>
        <option value="أدوات حدائق">أدوات حدائق</option>
        <option value="مستلزمات أطفال">مستلزمات أطفال</option>
        <option value="مستلزمات تخزين">مستلزمات تخزين</option>
        <option value="أدوات صيانة">أدوات صيانة</option>
        <option value="غير ذلك">غير ذلك</option>
      </select>
    </div>

    <!-- مستلزمات شخصية -->
    <div id="personal-items" class="filters">
      <label>نوع المستلزمات الشخصية:</label>
      <select>
        <option value="">اختر النوع</option>
        <option value="مستحضرات تجميل">مستحضرات تجميل</option>
        <option value="عطور">عطور</option>
        <option value="منتجات العناية بالبشرة">منتجات العناية بالبشرة</option>
        <option value="أدوات حلاقة">أدوات حلاقة</option>
        <option value="إكسسوارات">إكسسوارات</option>
        <option value="ساعات">ساعات</option>
        <option value="غير ذلك">غير ذلك</option>
      </select>
    </div>

    <!-- ملابس وأحذية -->
    <div id="fashion" class="filters">
      <label>نوع الملابس:</label>
      <select>
        <option value="">اختر النوع</option>
        <option value="رجالي">رجالي</option>
        <option value="نسائي">نسائي</option>
        <option value="أطفال">أطفال</option>
        <option value="أحذية">أحذية</option>
        <option value="إكسسوارات">إكسسوارات</option>
      </select>
    </div>

    <!-- هوايات وترفيه -->
    <div id="hobbies" class="filters">
      <label>نوع الهواية:</label>
      <select>
        <option value="">اختر النوع</option>
        <option value="كتب">كتب</option>
        <option value="معدات رياضية">معدات رياضية</option>
        <option value="ألعاب">ألعاب</option>
        <option value="آلات موسيقية">آلات موسيقية</option>
        <option value="أدوات فنية">أدوات فنية</option>
        <option value="أخرى">أخرى</option>
      </select>
    </div>

  </div>

<script>
  // إظهار الفلاتر بناءً على اختيار الفئة
  function showFilters() {
    const category = document.getElementById('category-select').value;
    // إخفاء كل الفلاتر أولاً
    document.querySelectorAll('.filters').forEach(div => {
      div.classList.remove('active');
    });

    if (category) {
      const el = document.getElementById(category);
      if (el) {
        el.classList.add('active');
      }
    }
  }

  // روابط الماركة والموديل للسيارات
  const modelsByBrand = {
    "تويوتا": ["كورولا", "كامري", "راف فور", "هايلكس", "برادو"],
    "هيونداي": ["ألنترا", "سوناتا", "توسان", "كريتا", "جراند سنتافي"],
    "كيا": ["ريو", "سبورتاج", "سيراتو", "أوبتيما"],
    "نيسان": ["ألتيما", "صني", "باترول", "تيانا"],
    "فورد": ["فوكوس", "إكسبلورر", "رنجير"],
    "مرسيدس": ["C-Class", "E-Class", "GLA", "GLE"],
    "بي إم دبليو": ["سلسلة 3", "سلسلة 5", "X3", "X5"],
    "أودي": ["A3", "A4", "Q5"],
    "شيفروليه": ["كروز", "تاهو", "سلفرادو"],
    "لكزس": ["ES", "RX", "NX"],
    "مازدا": ["3", "6", "CX-5"],
    "ميتسوبيشي": ["لانسر", "باجيرو"],
    "سوبارو": ["فورستر", "أوتباك"],
    "فولكسفاجن": ["جولف", "باسات"],
    "رينو": ["كليو", "ميجان"],
    "جيب": ["رانجلر", "غراند شيروكي"],
    "دايهاتسو": ["تيريوس", "تيريوس"],
    "سيتروين": ["C3", "C4"],
    "إيسوزو": ["دي ماكس"],
    "سكودا": ["أوكتافيا", "رامبلر"],
    "other": ["موديل 1", "موديل 2"]
  };

  function populateModels() {
    const brandSelect = document.getElementById('brand');
    const modelSelect = document.getElementById('model');
    const selectedBrand = brandSelect.value;

    modelSelect.innerHTML = '<option value="">اختر الموديل</option>';
    modelSelect.disabled = true;

    if (selectedBrand && modelsByBrand[selectedBrand]) {
      modelsByBrand[selectedBrand].forEach(model => {
        const opt = document.createElement('option');
        opt.value = model;
        opt.textContent = model;
        modelSelect.appendChild(opt);
      });
      modelSelect.disabled = false;
    }
  }

  // عرض الخدمات الفرعية حسب نوع الخدمة
  const subServicesByMain = {
    "home": ["تنظيف", "صيانة", "تصليحات", "توصيل فواتير"],
    "personal": ["تدريب رياضي", "تجميل", "تدليك", "خدمات رعاية"],
    "tech": ["برمجة", "تصميم", "دعم فني", "صيانة أجهزة"],
    "consulting": ["إدارية", "مالية", "قانونية", "تسويق"],
    "delivery": ["توصيل طعام", "نقل أثاث", "شحن طرود"],
    "entertainment": ["تنظيم حفلات", "تصوير", "دي جي", "تأجير معدات"],
    "education": ["دروس خصوصية", "كورسات", "تدريب مهني"]
  };

  function showSubServices() {
    const mainServiceSelect = document.getElementById('main-service');
    const subServiceSelect = document.getElementById('sub-service');
    const subLabel = document.getElementById('sub-service-label');

    const selectedMain = mainServiceSelect.value;

    if (selectedMain && subServicesByMain[selectedMain]) {
      subServiceSelect.innerHTML = '<option value="">اختر الخدمة الفرعية</option>';
      subServicesByMain[selectedMain].forEach(sub => {
        const opt = document.createElement('option');
        opt.value = sub;
        opt.textContent = sub;
        subServiceSelect.appendChild(opt);
      });
      subServiceSelect.style.display = 'inline-block';
      subLabel.style.display = 'inline-block';
    } else {
      subServiceSelect.style.display = 'none';
      subLabel.style.display = 'none';
      subServiceSelect.innerHTML = '';
    }
  }

  // تهيئة خريطة Google
  let map;
  let marker;

  function initMap() {
    const default
